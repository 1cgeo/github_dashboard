import{r as S,b as o,j as e,A as xe,g as W,D as ye,h as ve,B as u,F as H,i as U,k as K,M as N,l as Ce,m as we,n as te,T as m,G as oe,P as R,u as B,a as k,o as Se,p as Me,q as re,s as ne,t as De,E as ae,v as ie,w as ke,x as Re,y as _e,z as A,H as D,J as Be,K as Le,L as Oe,N as Te,O as L,c as z,Q as le,R as se,U as ce,V as de,W as he,X as Ae,Y as E}from"./vendor-core-BllzkHZV.js";import{_ as w}from"./vendor-utils-B2WthBux.js";import{B as j,X as P,Y as I,T as O,a as F,R as T,P as me,b as pe,C as ue,L as ge}from"./vendor-charts-Fnn1o_k_.js";const ze="/github_dashboard/assets/1cgeo-CrTT0Wrj.png";function je({data:l}){const[r,t]=S.useState(!1),a=new Date,[x,d]=S.useState(a.getMonth()),[n,s]=S.useState(a.getFullYear()),g=w.uniq(l.map(i=>i.date.getFullYear())).filter(i=>i>=2022).sort((i,y)=>y-i),f=Array.from({length:12},(i,y)=>({value:y,label:new Date(2e3,y).toLocaleString("pt-BR",{month:"long"})})),b=()=>{const i=l.filter(M=>{const _=M.date;return _.getFullYear()===n&&_.getMonth()===x}),y=w.groupBy(i,"repo"),c=Object.entries(y).map(([M,_])=>{const fe=w.uniq(_.map(be=>be.author)).join(";");return{Repositório:M,"Número de commits":_.length,Efetivo:fe}}),p=["Repositório","Número de commits","Efetivo"],h=[p.join(","),...c.map(M=>p.map(_=>M[_]).join(","))].join(`
`),v=new Blob([h],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(v),C.download=`commits_${n}_${String(x+1).padStart(2,"0")}.csv`,C.click(),t(!1)};return o(te,{children:[e(W,{variant:"outlined",startIcon:e(xe,{}),onClick:()=>t(!0),sx:{mt:2},children:"Dados Consolidados"}),o(ye,{open:r,onClose:()=>t(!1),children:[e(ve,{children:"Exportar Dados Consolidados"}),e(Ce,{children:o(u,{sx:{display:"flex",gap:2,mt:2},children:[o(H,{fullWidth:!0,children:[e(U,{children:"Ano"}),e(K,{value:n,label:"Ano",onChange:i=>s(i.target.value),children:g.map(i=>e(N,{value:i,children:i},i))})]}),o(H,{fullWidth:!0,children:[e(U,{children:"Mês"}),e(K,{value:x,label:"Mês",onChange:i=>d(i.target.value),children:f.map(({value:i,label:y})=>e(N,{value:i,children:y},i))})]})]})}),o(we,{children:[e(W,{onClick:()=>t(!1),children:"Cancelar"}),e(W,{onClick:b,disabled:!n||x==="",children:"Exportar"})]})]})]})}function Pe({data:l}){return o(u,{sx:{display:"flex",alignItems:"center",gap:2},children:[e("img",{src:ze,alt:"1º CGEO Logo",style:{height:"100px"}}),o(u,{children:[e(m,{variant:"h4",component:"h1",gutterBottom:!0,children:"Dashboard de Commits - 1º CGEO"}),e(m,{color:"text.secondary",children:"Monitoramento de atividade em repositórios administrados pelo 1º CGEO desde 01/01/2022"}),e(je,{data:l})]})]})}const at=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"}));function $({title:l,value:r}){return e(oe,{item:!0,xs:12,sm:6,md:3,children:o(R,{sx:{p:2,textAlign:"center"},children:[e(m,{color:"text.secondary",gutterBottom:!0,children:l}),e(m,{variant:"h4",children:r.toLocaleString("pt-BR")})]})})}function Ie({data:l}){const r=l.filter(d=>d.date.getFullYear()===2025).length,t=l.filter(d=>d.date.getFullYear()===2024).length,a=new Set(l.filter(d=>d.date.getFullYear()===2025).map(d=>d.repo)).size,x=new Set(l.filter(d=>d.date.getFullYear()===2024).map(d=>d.repo)).size;return o(oe,{container:!0,spacing:3,sx:{mb:3},children:[e($,{title:"Commits em 2025",value:r}),e($,{title:"Commits em 2024",value:t}),e($,{title:"Repositórios Ativos 2025",value:a}),e($,{title:"Repositórios Ativos 2024",value:x})]})}const it=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"}));function Fe(l){return new Date(l.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}))}function We(l){return l.reduce((r,t)=>{const a=Fe(t.date).toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"});return r[a]||(r[a]=[]),r[a].push(t),r},{})}function $e(l){const r=new Date;return Array.from({length:l},(t,a)=>{const x=new Date(r);x.setDate(x.getDate()-a);const d=x.toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"}),n=x.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}),s=x.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",timeZone:"America/Sao_Paulo"});return{isoDate:d,displayDate:n,fullDate:s}}).reverse()}function Ee({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=k(r.breakpoints.down("md")),x=S.useMemo(()=>({daysToShow:t?10:a?20:30,axisInterval:t?3:a?4:6,height:t?250:a?280:300,dateFormat:{day:"numeric",month:t?"numeric":a?"short":"long",timeZone:"America/Sao_Paulo"}}),[t,a]),d=S.useMemo(()=>{const s=$e(x.daysToShow),g=We(l);return s.map(({isoDate:f,displayDate:b,fullDate:i})=>({date:b,fullDate:i,commits:(g[f]||[]).length}))},[l,x.daysToShow]),n=({active:s,payload:g})=>{if(s&&g?.[0]){const f=g[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:f.fullDate}),o(m,{variant:"body2",children:[f.commits," ",f.commits===1?"commit":"commits"]})]})}return null};return o(R,{sx:{p:{xs:1.5,sm:2,md:3},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(Se,{sx:{fontSize:{xs:"1.25rem",sm:"inherit",md:"1.5rem"}}}),"Commits por Dia (Últimos ",x.daysToShow," dias)"]})}),e(T,{width:"100%",height:x.height,children:o(j,{data:d,margin:{top:5,right:t?5:a?15:20,left:t?5:a?15:20,bottom:t?45:a?35:20},children:[e(P,{dataKey:"date",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:x.axisInterval,angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30,tickMargin:t?15:5}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:s=>Math.floor(s)}),e(O,{content:e(n,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const lt=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function Ye({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=S.useMemo(()=>Array.from({length:t?12:24},(n,s)=>{const g=new Date;return g.setMonth(g.getMonth()-s),{year:g.getFullYear(),month:g.getMonth(),label:g.toLocaleString("pt-BR",{month:t?"short":"long",year:"numeric"}),fullLabel:g.toLocaleString("pt-BR",{month:"long",year:"numeric"})}}).reverse().map(({year:n,month:s,label:g,fullLabel:f})=>{const b=l.filter(i=>{const y=i.date;return y.getFullYear()===n&&y.getMonth()===s}).length;return{label:g,fullLabel:f,commits:b}}),[l,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const s=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:s.fullLabel}),o(m,{variant:"body2",children:[s.commits," ",s.commits===1?"commit":"commits"]})]})}return null};return o(R,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(Me,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Mês ",t?"(12 meses)":"(24 meses)"]})}),e(T,{width:"100%",height:t?250:300,children:o(j,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?60:20},children:[e(P,{dataKey:"label",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:t?1:"preserveStartEnd",angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(O,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const st=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),He=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function Ue({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=S.useMemo(()=>{const d=w.groupBy(l,n=>n.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return He.map(n=>({day:t?n.slice(0,3):n,fullDay:n,commits:(d[n]||[]).length}))},[l,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const s=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:s.fullDay}),o(m,{variant:"body2",children:[s.commits," ",s.commits===1?"commit":"commits"]})]})}return null};return o(R,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(re,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana"]})}),e(T,{width:"100%",height:t?250:300,children:o(j,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(O,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const ct=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),Ke=[{label:"00h - 08h",mobileLabel:"00-08h",start:0,end:8},{label:"08h - 13h",mobileLabel:"08-13h",start:8,end:13},{label:"13h - 17h",mobileLabel:"13-17h",start:13,end:17},{label:"17h - 00h",mobileLabel:"17-00h",start:17,end:24}];function Ne({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=S.useMemo(()=>Ke.map(d=>{const n=l.filter(s=>{const g=new Date(s.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),f=parseInt(g);return f>=d.start&&f<d.end});return{range:t?d.mobileLabel:d.label,fullRange:d.label,commits:n.length}}),[l,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const s=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:s.fullRange}),o(m,{variant:"body2",children:[s.commits," ",s.commits===1?"commit":"commits"]})]})}return null};return o(R,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ne,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário"]})}),e(T,{width:"100%",height:t?250:300,children:o(j,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(O,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const dt=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),G=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Ge({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),[a,x]=S.useState(!1);w.groupBy(l,f=>{const[b]=f.repo.split("/");return b});const n=(()=>{let f=Object.entries(w.groupBy(l,"repo")).map(([b,i])=>({name:b.split("/")[1],fullName:b,value:i.length,org:b.split("/")[0]})).sort((b,i)=>i.value-b.value);if(!a&&f.length>9){const b=f.slice(0,8),i=f.slice(8),y=w.sumBy(i,"value");return[...b,{name:`Outros (${i.length} repos)`,fullName:"outros",value:y,org:"outros"}]}return f})(),s=({active:f,payload:b})=>{if(f&&b?.[0]){const i=b[0].payload,y=w.sumBy(n,"value"),c=(i.value/y*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:i.fullName}),o(m,{variant:"body2",children:[i.value," commits (",c,"%)"]})]})}return null},g=({payload:f})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:f.map((b,i)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:b.color,borderRadius:"50%"}}),e(m,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:b.payload.fullName,children:b.value})]},`legend-${i}`))});return o(R,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(m,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(De,{}),"Commits por Repositório"]}),e(W,{size:"small",onClick:()=>x(!a),startIcon:a?e(ae,{}):e(ie,{}),children:a?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:e(T,{children:o(me,{children:[e(pe,{data:n,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:n.map((f,b)=>e(ue,{fill:G[b%G.length]},`cell-${b}`))}),e(O,{content:e(s,{})}),e(ge,{content:e(g,{})})]})})})]})}const ht=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Z=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Ze({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),[a,x]=S.useState(!1),d=new Date,n=d.getMonth(),s=d.getFullYear(),g=l.filter(p=>{const h=p.date;return h.getMonth()===n&&h.getFullYear()===s}),f=new Date().toLocaleString("pt-BR",{month:"short"}),{pieChartData:b,totalRepos:i}=S.useMemo(()=>{let p=Object.entries(w.groupBy(g,"repo")).map(([h,v])=>({name:h.split("/")[1],fullName:h,value:v.length,org:h.split("/")[0]})).sort((h,v)=>v.value-h.value);if(!a&&p.length>8){const h=p.slice(0,8),v=p.slice(8),C=w.sumBy(v,"value");return{pieChartData:[...h,{name:`Outros (${v.length} repos)`,fullName:"outros",value:C,org:"outros"}],totalRepos:p.length}}return{pieChartData:p,totalRepos:p.length}},[g,a]),y=({active:p,payload:h})=>{if(p&&h?.[0]){const v=h[0].payload,C=w.sumBy(b,"value"),M=(v.value/C*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:v.fullName}),o(m,{variant:"body2",children:[v.value," commits (",M,"%)"]})]})}return null},c=({payload:p})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:p.map((h,v)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:h.color,borderRadius:"50%"}}),e(m,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:h.payload.fullName,children:h.value})]},`legend-${v}`))});return o(R,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(m,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(ke,{}),"Commits por Repositório (",f,")"]}),i>8&&e(W,{size:"small",onClick:()=>x(!a),startIcon:a?e(ae,{}):e(ie,{}),children:a?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:b.length>0?e(T,{children:o(me,{children:[e(pe,{data:b,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:b.map((p,h)=>e(ue,{fill:Z[h%Z.length]},`cell-${h}`))}),e(O,{content:e(y,{})}),e(ge,{content:e(c,{})})]})}):e(u,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e(m,{color:"text.secondary",children:"Nenhum commit encontrado neste mês"})})})]})}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),qe=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function Xe({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=S.useMemo(()=>{const n=new Date,s=n.getFullYear(),g=n.getMonth(),f=l.filter(i=>{const y=i.date;return y.getMonth()===g&&y.getFullYear()===s}),b=w.groupBy(f,i=>i.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return qe.map(i=>({day:t?i.slice(0,3):i,fullDay:i,commits:(b[i]||[]).length}))},[l,t]),x=({active:n,payload:s})=>{if(n&&s?.[0]){const g=s[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:g.fullDay}),o(m,{variant:"body2",children:[g.commits," ",g.commits===1?"commit":"commits"]})]})}return null},d=new Date().toLocaleString("pt-BR",{month:"long"});return o(R,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(re,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana (",d,")"]})}),e(T,{width:"100%",height:t?250:300,children:o(j,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(O,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const pt=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"})),Ve=[{label:"00h - 08h",start:0,end:8},{label:"08h - 13h",start:8,end:13},{label:"13h - 17h",start:13,end:17},{label:"17h - 00h",start:17,end:24}];function Qe({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),a=new Date().toLocaleString("pt-BR",{month:"long",timeZone:"America/Sao_Paulo"}),x=S.useMemo(()=>{const n=l.filter(s=>{const g=new Date(s.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"}),f=new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"});return g===f});return Ve.map(s=>{const g=n.filter(f=>{const b=new Date(f.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),i=parseInt(b);return i>=s.start&&i<s.end});return{range:s.label,commits:g.length}})},[l]),d=({active:n,payload:s})=>{if(n&&s?.[0]){const g=s[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(m,{variant:"body2",sx:{fontWeight:"bold"},children:g.range}),o(m,{variant:"body2",children:[g.commits," ",g.commits===1?"commit":"commits"]})]})}return null};return o(R,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(m,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ne,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário (",a,")"]})}),e(T,{width:"100%",height:t?250:300,children:o(j,{data:x,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary}}),e(I,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(O,{content:e(d,{}),cursor:{fill:r.palette.action.hover}}),e(F,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const ut=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),Y=({data:l,columns:r,columnWidths:t,renderRow:a,renderMobileRow:x,defaultRowsPerPage:d=10,mobileRowsPerPage:n=5})=>{const[s,g]=S.useState(0),f=B(),b=k(f.breakpoints.down("sm")),i=b?n:d,y=(p,h)=>{g(h)},c=l.slice(s*i,s*i+i);return o(te,{children:[e(Le,{children:o(Re,{sx:{tableLayout:"fixed"},children:[!b&&e(_e,{children:e(A,{children:r.map((p,h)=>e(D,{style:{width:t[h]},children:p},h))})}),e(Be,{children:c.map((p,h)=>b?x(p,h,{backgroundColor:h%2===0?"background.paper":"action.hover"}):a(p,h))})]})}),e(Oe,{component:"div",count:l.length,page:s,onPageChange:y,rowsPerPage:i,rowsPerPageOptions:[i],labelDisplayedRows:({from:p,to:h,count:v})=>`${p}-${h} de ${v}`})]})},q=100;function X(l){const r=l.split(`
`)[0];return r.length<=q?r:r.substring(0,q)+"..."}function Je({data:l}){const r=w.orderBy(l,["date"],["desc"]),t=["Autor","Mensagem","Repositório","Data"],a=["150px","45%","25%","150px"];return o(R,{sx:{p:2},children:[o(m,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(Te,{}),"Últimos Commits"]}),e(Y,{data:r,columns:t,columnWidths:a,renderRow:(n,s)=>o(A,{children:[e(D,{style:{width:a[0]},children:n.author}),e(D,{style:{width:a[1]},children:e(L,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:X(n.message)})}),e(D,{style:{width:a[2]},children:e(L,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(z,{label:n.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:a[3]},children:n.date.toLocaleString("pt-BR")})]},s),renderMobileRow:(n,s,g)=>e(A,{sx:{backgroundColor:g.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(m,{variant:"subtitle2",sx:{fontWeight:500},children:n.author}),e(m,{variant:"caption",color:"text.secondary",sx:{ml:2},children:n.date.toLocaleString("pt-BR")})]}),e(L,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:X(n.message)}),e(L,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(z,{label:n.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})})]})},s)})]})}const gt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),V=100;function Q(l){const r=l.split(`
`)[0];return r.length<=V?r:r.substring(0,V)+"..."}function et({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),[a,x]=S.useState(null),[d,n]=S.useState([]);S.useEffect(()=>{const c=w.groupBy(l,"author"),p=Object.entries(c).map(([v,C])=>{const M=w.maxBy(C,_=>new Date(_.date));return{name:v,lastCommitDate:M.date,totalCommits:C.length}}),h=w.orderBy(p,["lastCommitDate"],["desc"]);n(h),!a&&h.length>0&&x(h[0].name)},[l]);const s=a?w.orderBy(l.filter(c=>c.author===a),["date"],["desc"]):[],g=["Mensagem","Repositório","Data"],f=["50%","30%","20%"],b=(c,p)=>o(A,{children:[e(D,{style:{width:f[0]},children:e(L,{href:c.htmlUrl,target:"_blank",rel:"noopener",title:c.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Q(c.message)})}),e(D,{style:{width:f[1]},children:e(L,{href:c.repoUrl,target:"_blank",rel:"noopener",children:e(z,{label:c.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:f[2]},children:c.date.toLocaleString("pt-BR")})]},p),i=(c,p,h)=>e(A,{sx:{backgroundColor:h.backgroundColor},children:o(D,{sx:{p:2},children:[e(L,{href:c.htmlUrl,target:"_blank",rel:"noopener",title:c.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Q(c.message)}),o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(L,{href:c.repoUrl,target:"_blank",rel:"noopener",children:e(z,{label:c.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})}),e(m,{variant:"caption",color:"text.secondary",children:c.date.toLocaleString("pt-BR")})]})]})},p),y=(c,p)=>{const{key:h,...v}=c,C=d.find(M=>M.name===p);return t?e(u,{component:"li",...v,children:o(he,{spacing:.5,sx:{p:2},children:[e(m,{variant:"subtitle1",noWrap:!0,children:p}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(m,{variant:"body2",color:"text.secondary",children:[C.totalCommits," commits"]}),o(m,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},h):e(u,{component:"li",...v,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e(m,{children:p}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(z,{size:"small",label:`${C.totalCommits} commits`,variant:"outlined"}),o(m,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},h)};return o(R,{sx:{p:2},children:[o(m,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(Ae,{}),"Commits por Autor"]}),e(u,{sx:{mb:3},children:e(le,{value:a,onChange:(c,p)=>x(p),options:d.map(c=>c.name),renderInput:c=>e(se,{...c,placeholder:"Buscar autor...",variant:"outlined",size:"small",InputProps:{...c.InputProps,startAdornment:e(ce,{position:"start",children:e(de,{})})}}),renderOption:y,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),a&&e(Y,{data:s,columns:g,columnWidths:f,renderRow:b,renderMobileRow:i})]})}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"})),J=100;function ee(l){const r=l.split(`
`)[0];return r.length<=J?r:r.substring(0,J)+"..."}function tt({data:l}){const r=B(),t=k(r.breakpoints.down("sm")),[a,x]=S.useState(null),[d,n]=S.useState([]);S.useEffect(()=>{const c=w.groupBy(l,"repo"),p=Object.entries(c).map(([v,C])=>{const M=w.maxBy(C,_=>new Date(_.date));return{name:v,lastCommitDate:M.date,totalCommits:C.length,repoUrl:M.repoUrl}}),h=w.orderBy(p,["lastCommitDate"],["desc"]);n(h),!a&&h.length>0&&x(h[0].name)},[l]);const s=a?w.orderBy(l.filter(c=>c.repo===a),["date"],["desc"]):[],g=["Autor","Mensagem","Data"],f=["20%","60%","20%"],b=(c,p)=>o(A,{children:[e(D,{style:{width:f[0]},children:c.author}),e(D,{style:{width:f[1]},children:e(L,{href:c.htmlUrl,target:"_blank",rel:"noopener",title:c.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ee(c.message)})}),e(D,{style:{width:f[2]},children:c.date.toLocaleString("pt-BR")})]},p),i=(c,p,h)=>e(A,{sx:{backgroundColor:h.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(m,{variant:"subtitle2",sx:{fontWeight:500},children:c.author}),e(m,{variant:"caption",color:"text.secondary",sx:{ml:2},children:c.date.toLocaleString("pt-BR")})]}),e(L,{href:c.htmlUrl,target:"_blank",rel:"noopener",title:c.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ee(c.message)})]})},p),y=(c,p)=>{const{key:h,...v}=c,C=d.find(M=>M.name===p);return t?e(u,{component:"li",...v,children:o(he,{spacing:.5,sx:{p:2},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(E,{fontSize:"small"}),e(m,{variant:"subtitle1",noWrap:!0,children:p})]}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(m,{variant:"body2",color:"text.secondary",children:[C.totalCommits," commits"]}),o(m,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},h):e(u,{component:"li",...v,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(E,{fontSize:"small"}),e(m,{children:p})]}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(z,{size:"small",label:`${C.totalCommits} commits`,variant:"outlined"}),o(m,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},h)};return o(R,{sx:{p:2},children:[o(m,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(E,{}),"Commits por Repositório"]}),e(u,{sx:{mb:3},children:e(le,{value:a,onChange:(c,p)=>x(p),options:d.map(c=>c.name),renderInput:c=>e(se,{...c,placeholder:"Buscar repositório...",variant:"outlined",size:"small",InputProps:{...c.InputProps,startAdornment:e(ce,{position:"start",children:e(de,{})})}}),renderOption:y,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),a&&e(Y,{data:s,columns:g,columnWidths:f,renderRow:b,renderMobileRow:i})]})}const bt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{ft as A,mt as C,at as D,dt as H,gt as L,st as M,ht as R,it as S,ct as W,lt as a,pt as b,ut as c,bt as d};
//# sourceMappingURL=app-dashboard-DaI5loVE.js.map
