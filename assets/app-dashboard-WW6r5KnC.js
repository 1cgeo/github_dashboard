import{r as C,b as o,j as e,A as _e,g as E,D as ke,h as Be,B as u,F as K,i as Le,R as Te,k as q,l as X,m as V,n as Q,M as J,o as Ae,p as Oe,q as se,T as p,G as ce,P as _,u as k,a as R,s as ze,t as je,v as de,w as me,x as Ie,E as he,y as pe,z as Pe,H as Fe,J as We,K as z,L as D,N as $e,O as Ee,Q as Ye,U as He,V as L,c as j,W as ue,X as ge,Y as fe,Z as be,_ as xe,$ as Ue,a0 as N}from"./vendor-core-8w6ACZJI.js";import{_ as w}from"./vendor-utils-CIRFwh_8.js";import{B as I,X as P,Y as F,T,a as W,R as A,P as ye,b as ve,C as Ce,L as we}from"./vendor-charts-ZlGDuqN8.js";const Ke="/github_dashboard/assets/1cgeo-CrTT0Wrj.png";function Ne({data:s}){const[r,t]=C.useState(!1),l=new Date,[f,m]=C.useState("monthly"),[n,c]=C.useState(l.getMonth()),[h,g]=C.useState(l.getFullYear()),b=w.uniq(s.map(a=>a.date.getFullYear())).filter(a=>a>=2022).sort((a,i)=>i-a),x=Array.from({length:12},(a,i)=>({value:i,label:new Date(2e3,i).toLocaleString("pt-BR",{month:"long"})})),S=()=>{const a=s.filter(O=>{const B=O.date;return f==="yearly"?B.getFullYear()===h:B.getFullYear()===h&&B.getMonth()===n}),i=w.groupBy(a,"repo"),y=Object.entries(i).map(([O,B])=>{const U=w.uniq(B.map(Z=>Z.author)).join(";");return{Repositório:O,"Número de commits":B.length,Efetivo:U}}),v=["Repositório","Número de commits","Efetivo"];let M=[v.join(","),...y.map(O=>v.map(B=>O[B]).join(","))].join(`
`);const[$,...Se]=M.split(`
`),Me=Se.sort((O,B)=>{const U=parseInt(O.split(",")[1]);return parseInt(B.split(",")[1])-U});M=[$,...Me].join(`
`);const De=new Blob([M],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a");H.href=URL.createObjectURL(De);const Re=f==="yearly"?`commits_${h}_anual.csv`:`commits_${h}_${String(n+1).padStart(2,"0")}.csv`;H.download=Re,H.click(),t(!1)},d=()=>{t(!1),m("monthly"),c(l.getMonth()),g(l.getFullYear())};return o(se,{children:[e(E,{variant:"outlined",startIcon:e(_e,{}),onClick:()=>t(!0),sx:{mt:2},children:"Dados Consolidados"}),o(ke,{open:r,onClose:d,children:[e(Be,{children:"Exportar Dados Consolidados"}),e(Ae,{children:o(u,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[o(K,{component:"fieldset",children:[e(Le,{component:"legend",children:"Tipo de Exportação"}),o(Te,{row:!0,value:f,onChange:a=>m(a.target.value),children:[e(q,{value:"monthly",control:e(X,{}),label:"Mensal"}),e(q,{value:"yearly",control:e(X,{}),label:"Anual"})]})]}),o(u,{sx:{display:"flex",gap:2},children:[o(K,{fullWidth:!0,children:[e(V,{children:"Ano"}),e(Q,{value:h,label:"Ano",onChange:a=>g(a.target.value),children:b.map(a=>{const i=a>l.getFullYear();return e(J,{value:a,disabled:i,children:a},a)})})]}),f==="monthly"&&o(K,{fullWidth:!0,children:[e(V,{children:"Mês"}),e(Q,{value:n,label:"Mês",onChange:a=>c(a.target.value),children:x.map(({value:a,label:i})=>{const y=h===l.getFullYear()&&a>l.getMonth();return e(J,{value:a,disabled:y,children:i},a)})})]})]})]})}),o(Oe,{children:[e(E,{onClick:d,children:"Cancelar"}),e(E,{onClick:S,disabled:!h||f==="monthly"&&n==="",children:"Exportar"})]})]})]})}function Ge({data:s}){return o(u,{sx:{display:"flex",alignItems:"center",gap:2},children:[e("img",{src:Ke,alt:"1º CGEO Logo",style:{height:"100px"}}),o(u,{children:[e(p,{variant:"h4",component:"h1",gutterBottom:!0,children:"Dashboard de Commits - 1º CGEO"}),e(p,{color:"text.secondary",children:"Monitoramento de atividade em repositórios administrados pelo 1º CGEO desde 01/01/2022"}),e(Ne,{data:s})]})]})}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function Y({title:s,value:r}){return e(ce,{item:!0,xs:12,sm:6,md:3,children:o(_,{sx:{p:2,textAlign:"center"},children:[e(p,{color:"text.secondary",gutterBottom:!0,children:s}),e(p,{variant:"h4",children:r.toLocaleString("pt-BR")})]})})}function Ze({data:s}){const r=s.filter(m=>m.date.getFullYear()===2025).length,t=s.filter(m=>m.date.getFullYear()===2024).length,l=new Set(s.filter(m=>m.date.getFullYear()===2025).map(m=>m.repo)).size,f=new Set(s.filter(m=>m.date.getFullYear()===2024).map(m=>m.repo)).size;return o(ce,{container:!0,spacing:3,sx:{mb:3},children:[e(Y,{title:"Commits em 2025",value:r}),e(Y,{title:"Commits em 2024",value:t}),e(Y,{title:"Repositórios Ativos 2025",value:l}),e(Y,{title:"Repositórios Ativos 2024",value:f})]})}const bt=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));function qe(s){return new Date(s.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}))}function Xe(s){return s.reduce((r,t)=>{const l=qe(t.date).toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"});return r[l]||(r[l]=[]),r[l].push(t),r},{})}function Ve(s){const r=new Date;return Array.from({length:s},(t,l)=>{const f=new Date(r);f.setDate(f.getDate()-l);const m=f.toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"}),n=f.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}),c=f.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",timeZone:"America/Sao_Paulo"});return{isoDate:m,displayDate:n,fullDate:c}}).reverse()}function Qe({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=R(r.breakpoints.down("md")),f=C.useMemo(()=>({daysToShow:t?10:l?20:30,axisInterval:t?3:l?4:6,height:t?250:l?280:300,dateFormat:{day:"numeric",month:t?"numeric":l?"short":"long",timeZone:"America/Sao_Paulo"}}),[t,l]),m=C.useMemo(()=>{const c=Ve(f.daysToShow),h=Xe(s);return c.map(({isoDate:g,displayDate:b,fullDate:x})=>({date:b,fullDate:x,commits:(h[g]||[]).length}))},[s,f.daysToShow]),n=({active:c,payload:h})=>{if(c&&h?.[0]){const g=h[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:g.fullDate}),o(p,{variant:"body2",children:[g.commits," ",g.commits===1?"commit":"commits"]})]})}return null};return o(_,{sx:{p:{xs:1.5,sm:2,md:3},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ze,{sx:{fontSize:{xs:"1.25rem",sm:"inherit",md:"1.5rem"}}}),"Commits por Dia (Últimos ",f.daysToShow," dias)"]})}),e(A,{width:"100%",height:f.height,children:o(I,{data:m,margin:{top:5,right:t?5:l?15:20,left:t?5:l?15:20,bottom:t?45:l?35:20},children:[e(P,{dataKey:"date",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:f.axisInterval,angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30,tickMargin:t?15:5}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:c=>Math.floor(c)}),e(T,{content:e(n,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const xt=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));function Je({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=C.useMemo(()=>Array.from({length:12},(n,c)=>{const h=new Date;return h.setMonth(h.getMonth()-c),{year:h.getFullYear(),month:h.getMonth(),label:h.toLocaleString("pt-BR",{month:t?"short":"long",year:"numeric"}),fullLabel:h.toLocaleString("pt-BR",{month:"long",year:"numeric"})}}).reverse().map(({year:n,month:c,label:h,fullLabel:g})=>{const b=s.filter(x=>{const S=x.date;return S.getFullYear()===n&&S.getMonth()===c}).length;return{label:h,fullLabel:g,commits:b}}),[s,t]),f=({active:m,payload:n})=>{if(m&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullLabel}),o(p,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(_,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(je,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Mês (12 meses)"]})}),e(A,{width:"100%",height:t?250:300,children:o(I,{data:l,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?60:20},children:[e(P,{dataKey:"label",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:t?1:"preserveStartEnd",angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:m=>Math.floor(m)}),e(T,{content:e(f,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const yt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),et=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function tt({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=C.useMemo(()=>{const m=w.groupBy(s,n=>n.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return et.map(n=>({day:t?n.slice(0,3):n,fullDay:n,commits:(m[n]||[]).length}))},[s,t]),f=({active:m,payload:n})=>{if(m&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullDay}),o(p,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(_,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(de,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana"]})}),e(A,{width:"100%",height:t?250:300,children:o(I,{data:l,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:m=>Math.floor(m)}),e(T,{content:e(f,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const vt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),ot=[{label:"00h - 08h",mobileLabel:"00-08h",start:0,end:8},{label:"08h - 13h",mobileLabel:"08-13h",start:8,end:13},{label:"13h - 17h",mobileLabel:"13-17h",start:13,end:17},{label:"17h - 00h",mobileLabel:"17-00h",start:17,end:24}];function rt({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=C.useMemo(()=>ot.map(m=>{const n=s.filter(c=>{const h=new Date(c.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),g=parseInt(h);return g>=m.start&&g<m.end});return{range:t?m.mobileLabel:m.label,fullRange:m.label,commits:n.length}}),[s,t]),f=({active:m,payload:n})=>{if(m&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullRange}),o(p,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(_,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(me,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário"]})}),e(A,{width:"100%",height:t?250:300,children:o(I,{data:l,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:m=>Math.floor(m)}),e(T,{content:e(f,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const Ct=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),ee=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function nt({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),[l,f]=C.useState(!1);w.groupBy(s,g=>{const[b]=g.repo.split("/");return b});const n=(()=>{let g=Object.entries(w.groupBy(s,"repo")).map(([b,x])=>({name:b.split("/")[1],fullName:b,value:x.length,org:b.split("/")[0]})).sort((b,x)=>x.value-b.value);if(!l&&g.length>9){const b=g.slice(0,8),x=g.slice(8),S=w.sumBy(x,"value");return[...b,{name:`Outros (${x.length} repos)`,fullName:"outros",value:S,org:"outros"}]}return g})(),c=({active:g,payload:b})=>{if(g&&b?.[0]){const x=b[0].payload,S=w.sumBy(n,"value"),d=(x.value/S*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:x.fullName}),o(p,{variant:"body2",children:[x.value," commits (",d,"%)"]})]})}return null},h=({payload:g})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:g.map((b,x)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:b.color,borderRadius:"50%"}}),e(p,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:b.payload.fullName,children:b.value})]},`legend-${x}`))});return o(_,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(p,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(Ie,{}),"Commits por Repositório"]}),e(E,{size:"small",onClick:()=>f(!l),startIcon:l?e(he,{}):e(pe,{}),children:l?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:e(A,{children:o(ye,{children:[e(ve,{data:n,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:n.map((g,b)=>e(Ce,{fill:ee[b%ee.length]},`cell-${b}`))}),e(T,{content:e(c,{})}),e(we,{content:e(h,{})})]})})})]})}const wt=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),te=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function at({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),[l,f]=C.useState(!1),m=new Date,n=m.getMonth(),c=m.getFullYear(),h=s.filter(a=>{const i=a.date;return i.getMonth()===n&&i.getFullYear()===c}),g=new Date().toLocaleString("pt-BR",{month:"short"}),{pieChartData:b,totalRepos:x}=C.useMemo(()=>{let a=Object.entries(w.groupBy(h,"repo")).map(([i,y])=>({name:i.split("/")[1],fullName:i,value:y.length,org:i.split("/")[0]})).sort((i,y)=>y.value-i.value);if(!l&&a.length>8){const i=a.slice(0,8),y=a.slice(8),v=w.sumBy(y,"value");return{pieChartData:[...i,{name:`Outros (${y.length} repos)`,fullName:"outros",value:v,org:"outros"}],totalRepos:a.length}}return{pieChartData:a,totalRepos:a.length}},[h,l]),S=({active:a,payload:i})=>{if(a&&i?.[0]){const y=i[0].payload,v=w.sumBy(b,"value"),M=(y.value/v*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:y.fullName}),o(p,{variant:"body2",children:[y.value," commits (",M,"%)"]})]})}return null},d=({payload:a})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:a.map((i,y)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:i.color,borderRadius:"50%"}}),e(p,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:i.payload.fullName,children:i.value})]},`legend-${y}`))});return o(_,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(p,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(Pe,{}),"Commits por Repositório (",g,")"]}),x>8&&e(E,{size:"small",onClick:()=>f(!l),startIcon:l?e(he,{}):e(pe,{}),children:l?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:b.length>0?e(A,{children:o(ye,{children:[e(ve,{data:b,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:b.map((a,i)=>e(Ce,{fill:te[i%te.length]},`cell-${i}`))}),e(T,{content:e(S,{})}),e(we,{content:e(d,{})})]})}):e(u,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e(p,{color:"text.secondary",children:"Nenhum commit encontrado neste mês"})})})]})}const St=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),lt=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function it({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=C.useMemo(()=>{const n=new Date,c=n.getFullYear(),h=n.getMonth(),g=s.filter(x=>{const S=x.date;return S.getMonth()===h&&S.getFullYear()===c}),b=w.groupBy(g,x=>x.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return lt.map(x=>({day:t?x.slice(0,3):x,fullDay:x,commits:(b[x]||[]).length}))},[s,t]),f=({active:n,payload:c})=>{if(n&&c?.[0]){const h=c[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:h.fullDay}),o(p,{variant:"body2",children:[h.commits," ",h.commits===1?"commit":"commits"]})]})}return null},m=new Date().toLocaleString("pt-BR",{month:"long"});return o(_,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(de,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana (",m,")"]})}),e(A,{width:"100%",height:t?250:300,children:o(I,{data:l,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(T,{content:e(f,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const Mt=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),st=[{label:"00h - 08h",start:0,end:8},{label:"08h - 13h",start:8,end:13},{label:"13h - 17h",start:13,end:17},{label:"17h - 00h",start:17,end:24}];function ct({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),l=new Date().toLocaleString("pt-BR",{month:"long",timeZone:"America/Sao_Paulo"}),f=C.useMemo(()=>{const n=s.filter(c=>{const h=new Date(c.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"}),g=new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"});return h===g});return st.map(c=>{const h=n.filter(g=>{const b=new Date(g.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),x=parseInt(b);return x>=c.start&&x<c.end});return{range:c.label,commits:h.length}})},[s]),m=({active:n,payload:c})=>{if(n&&c?.[0]){const h=c[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(p,{variant:"body2",sx:{fontWeight:"bold"},children:h.range}),o(p,{variant:"body2",children:[h.commits," ",h.commits===1?"commit":"commits"]})]})}return null};return o(_,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(p,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(me,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário (",l,")"]})}),e(A,{width:"100%",height:t?250:300,children:o(I,{data:f,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary}}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(T,{content:e(m,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const Dt=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),G=({data:s,columns:r,columnWidths:t,renderRow:l,renderMobileRow:f,defaultRowsPerPage:m=10,mobileRowsPerPage:n=5})=>{const[c,h]=C.useState(0),g=k(),b=R(g.breakpoints.down("sm")),x=b?n:m,S=(a,i)=>{h(i)},d=s.slice(c*x,c*x+x);return o(se,{children:[e(Ee,{children:o(Fe,{sx:{tableLayout:"fixed"},children:[!b&&e(We,{children:e(z,{children:r.map((a,i)=>e(D,{style:{width:t[i]},children:a},i))})}),e($e,{children:d.map((a,i)=>b?f(a,i,{backgroundColor:i%2===0?"background.paper":"action.hover"}):l(a,i))})]})}),e(Ye,{component:"div",count:s.length,page:c,onPageChange:S,rowsPerPage:x,rowsPerPageOptions:[x],labelDisplayedRows:({from:a,to:i,count:y})=>`${a}-${i} de ${y}`})]})},oe=100;function re(s){const r=s.split(`
`)[0];return r.length<=oe?r:r.substring(0,oe)+"..."}function dt({data:s}){const r=w.orderBy(s,["date"],["desc"]),t=["Autor","Mensagem","Repositório","Data"],l=["150px","45%","25%","150px"];return o(_,{sx:{p:2},children:[o(p,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(He,{}),"Últimos Commits"]}),e(G,{data:r,columns:t,columnWidths:l,renderRow:(n,c)=>o(z,{children:[e(D,{style:{width:l[0]},children:n.author}),e(D,{style:{width:l[1]},children:e(L,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re(n.message)})}),e(D,{style:{width:l[2]},children:e(L,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:n.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:l[3]},children:n.date.toLocaleString("pt-BR")})]},c),renderMobileRow:(n,c,h)=>e(z,{sx:{backgroundColor:h.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(p,{variant:"subtitle2",sx:{fontWeight:500},children:n.author}),e(p,{variant:"caption",color:"text.secondary",sx:{ml:2},children:n.date.toLocaleString("pt-BR")})]}),e(L,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re(n.message)}),e(L,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:n.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})})]})},c)})]})}const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),ne=100;function ae(s){const r=s.split(`
`)[0];return r.length<=ne?r:r.substring(0,ne)+"..."}function mt({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),[l,f]=C.useState(null),[m,n]=C.useState([]);C.useEffect(()=>{const d=w.groupBy(s,"author"),a=Object.entries(d).map(([y,v])=>{const M=w.maxBy(v,$=>new Date($.date));return{name:y,lastCommitDate:M.date,totalCommits:v.length}}),i=w.orderBy(a,["lastCommitDate"],["desc"]);n(i),!l&&i.length>0&&f(i[0].name)},[s]);const c=l?w.orderBy(s.filter(d=>d.author===l),["date"],["desc"]):[],h=["Mensagem","Repositório","Data"],g=["50%","30%","20%"],b=(d,a)=>o(z,{children:[e(D,{style:{width:g[0]},children:e(L,{href:d.htmlUrl,target:"_blank",rel:"noopener",title:d.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ae(d.message)})}),e(D,{style:{width:g[1]},children:e(L,{href:d.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:d.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:g[2]},children:d.date.toLocaleString("pt-BR")})]},a),x=(d,a,i)=>e(z,{sx:{backgroundColor:i.backgroundColor},children:o(D,{sx:{p:2},children:[e(L,{href:d.htmlUrl,target:"_blank",rel:"noopener",title:d.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ae(d.message)}),o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(L,{href:d.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:d.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})}),e(p,{variant:"caption",color:"text.secondary",children:d.date.toLocaleString("pt-BR")})]})]})},a),S=(d,a)=>{const{key:i,...y}=d,v=m.find(M=>M.name===a);return t?e(u,{component:"li",...y,children:o(xe,{spacing:.5,sx:{p:2},children:[e(p,{variant:"subtitle1",noWrap:!0,children:a}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(p,{variant:"body2",color:"text.secondary",children:[v.totalCommits," commits"]}),o(p,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(v.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},i):e(u,{component:"li",...y,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e(p,{children:a}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(j,{size:"small",label:`${v.totalCommits} commits`,variant:"outlined"}),o(p,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(v.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},i)};return o(_,{sx:{p:2},children:[o(p,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(Ue,{}),"Commits por Autor"]}),e(u,{sx:{mb:3},children:e(ue,{value:l,onChange:(d,a)=>f(a),options:m.map(d=>d.name),renderInput:d=>e(ge,{...d,placeholder:"Buscar autor...",variant:"outlined",size:"small",InputProps:{...d.InputProps,startAdornment:e(fe,{position:"start",children:e(be,{})})}}),renderOption:S,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),l&&e(G,{data:c,columns:h,columnWidths:g,renderRow:b,renderMobileRow:x})]})}const _t=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),le=100;function ie(s){const r=s.split(`
`)[0];return r.length<=le?r:r.substring(0,le)+"..."}function ht({data:s}){const r=k(),t=R(r.breakpoints.down("sm")),[l,f]=C.useState(null),[m,n]=C.useState([]);C.useEffect(()=>{const d=w.groupBy(s,"repo"),a=Object.entries(d).map(([y,v])=>{const M=w.maxBy(v,$=>new Date($.date));return{name:y,lastCommitDate:M.date,totalCommits:v.length,repoUrl:M.repoUrl}}),i=w.orderBy(a,["lastCommitDate"],["desc"]);n(i),!l&&i.length>0&&f(i[0].name)},[s]);const c=l?w.orderBy(s.filter(d=>d.repo===l),["date"],["desc"]):[],h=["Autor","Mensagem","Data"],g=["20%","60%","20%"],b=(d,a)=>o(z,{children:[e(D,{style:{width:g[0]},children:d.author}),e(D,{style:{width:g[1]},children:e(L,{href:d.htmlUrl,target:"_blank",rel:"noopener",title:d.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ie(d.message)})}),e(D,{style:{width:g[2]},children:d.date.toLocaleString("pt-BR")})]},a),x=(d,a,i)=>e(z,{sx:{backgroundColor:i.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(p,{variant:"subtitle2",sx:{fontWeight:500},children:d.author}),e(p,{variant:"caption",color:"text.secondary",sx:{ml:2},children:d.date.toLocaleString("pt-BR")})]}),e(L,{href:d.htmlUrl,target:"_blank",rel:"noopener",title:d.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ie(d.message)})]})},a),S=(d,a)=>{const{key:i,...y}=d,v=m.find(M=>M.name===a);return t?e(u,{component:"li",...y,children:o(xe,{spacing:.5,sx:{p:2},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(N,{fontSize:"small"}),e(p,{variant:"subtitle1",noWrap:!0,children:a})]}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(p,{variant:"body2",color:"text.secondary",children:[v.totalCommits," commits"]}),o(p,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(v.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},i):e(u,{component:"li",...y,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(N,{fontSize:"small"}),e(p,{children:a})]}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(j,{size:"small",label:`${v.totalCommits} commits`,variant:"outlined"}),o(p,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(v.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},i)};return o(_,{sx:{p:2},children:[o(p,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(N,{}),"Commits por Repositório"]}),e(u,{sx:{mb:3},children:e(ue,{value:l,onChange:(d,a)=>f(a),options:m.map(d=>d.name),renderInput:d=>e(ge,{...d,placeholder:"Buscar repositório...",variant:"outlined",size:"small",InputProps:{...d.InputProps,startAdornment:e(fe,{position:"start",children:e(be,{})})}}),renderOption:S,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),l&&e(G,{data:c,columns:h,columnWidths:g,renderRow:b,renderMobileRow:x})]})}const kt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));export{_t as A,St as C,ft as D,Ct as H,Rt as L,yt as M,wt as R,bt as S,vt as W,xt as a,Mt as b,Dt as c,kt as d};
//# sourceMappingURL=app-dashboard-WW6r5KnC.js.map
