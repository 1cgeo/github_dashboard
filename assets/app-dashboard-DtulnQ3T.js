import{r as S,b as o,j as e,A as Ce,g as E,D as we,h as Se,B as u,F as Z,i as q,k as X,M as V,l as De,m as Me,n as ie,T as h,G as le,P as k,u as _,a as R,o as Re,p as ke,q as se,s as ce,t as _e,E as de,v as me,w as Be,x as Le,y as Ae,z,H as D,J as Te,K as Oe,L as ze,N as je,O as B,c as j,Q as he,R as pe,U as ue,V as ge,W as fe,X as Ie,Y as K}from"./vendor-core-BllzkHZV.js";import{_ as w}from"./vendor-utils-B2WthBux.js";import{B as I,X as P,Y as F,T as A,a as W,R as T,P as be,b as xe,C as ye,L as ve}from"./vendor-charts-Fnn1o_k_.js";const Pe="/github_dashboard/assets/1cgeo-CrTT0Wrj.png";function Fe({data:s}){const[r,t]=S.useState(!1),a=new Date,[x,d]=S.useState(a.getMonth()),[n,c]=S.useState(a.getFullYear()),g=w.uniq(s.map(i=>i.date.getFullYear())).filter(i=>i>=2022).sort((i,y)=>y-i),f=Array.from({length:12},(i,y)=>({value:y,label:new Date(2e3,y).toLocaleString("pt-BR",{month:"long"})})),b=()=>{const i=s.filter(O=>{const L=O.date;return L.getFullYear()===n&&L.getMonth()===x}),y=w.groupBy(i,"repo"),l=Object.entries(y).map(([O,L])=>{const U=w.uniq(L.map(G=>G.author)).join(";");return{Repositório:O,"Número de commits":L.length,Efetivo:U}}),p=["Repositório","Número de commits","Efetivo"];let m=[p.join(","),...l.map(O=>p.map(L=>O[L]).join(","))].join(`
`);const[v,...C]=m.split(`
`),M=C.sort((O,L)=>{const U=parseInt(O.split(",")[1]);return parseInt(L.split(",")[1])-U});m=[v,...M].join(`
`);const $=new Blob([m],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a");H.href=URL.createObjectURL($),H.download=`commits_${n}_${String(x+1).padStart(2,"0")}.csv`,H.click(),t(!1)};return o(ie,{children:[e(E,{variant:"outlined",startIcon:e(Ce,{}),onClick:()=>t(!0),sx:{mt:2},children:"Dados Consolidados"}),o(we,{open:r,onClose:()=>t(!1),children:[e(Se,{children:"Exportar Dados Consolidados"}),e(De,{children:o(u,{sx:{display:"flex",gap:2,mt:2},children:[o(Z,{fullWidth:!0,children:[e(q,{children:"Ano"}),e(X,{value:n,label:"Ano",onChange:i=>c(i.target.value),children:g.map(i=>{const l=i>new Date().getFullYear();return e(V,{value:i,disabled:l,children:i},i)})})]}),o(Z,{fullWidth:!0,children:[e(q,{children:"Mês"}),e(X,{value:x,label:"Mês",onChange:i=>d(i.target.value),children:f.map(({value:i,label:y})=>{const l=n===a.getFullYear()&&i>a.getMonth();return e(V,{value:i,disabled:l,children:y},i)})})]})]})}),o(Me,{children:[e(E,{onClick:()=>t(!1),children:"Cancelar"}),e(E,{onClick:b,disabled:!n||x==="",children:"Exportar"})]})]})]})}function We({data:s}){return o(u,{sx:{display:"flex",alignItems:"center",gap:2},children:[e("img",{src:Pe,alt:"1º CGEO Logo",style:{height:"100px"}}),o(u,{children:[e(h,{variant:"h4",component:"h1",gutterBottom:!0,children:"Dashboard de Commits - 1º CGEO"}),e(h,{color:"text.secondary",children:"Monitoramento de atividade em repositórios administrados pelo 1º CGEO desde 01/01/2022"}),e(Fe,{data:s})]})]})}const st=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Y({title:s,value:r}){return e(le,{item:!0,xs:12,sm:6,md:3,children:o(k,{sx:{p:2,textAlign:"center"},children:[e(h,{color:"text.secondary",gutterBottom:!0,children:s}),e(h,{variant:"h4",children:r.toLocaleString("pt-BR")})]})})}function $e({data:s}){const r=s.filter(d=>d.date.getFullYear()===2025).length,t=s.filter(d=>d.date.getFullYear()===2024).length,a=new Set(s.filter(d=>d.date.getFullYear()===2025).map(d=>d.repo)).size,x=new Set(s.filter(d=>d.date.getFullYear()===2024).map(d=>d.repo)).size;return o(le,{container:!0,spacing:3,sx:{mb:3},children:[e(Y,{title:"Commits em 2025",value:r}),e(Y,{title:"Commits em 2024",value:t}),e(Y,{title:"Repositórios Ativos 2025",value:a}),e(Y,{title:"Repositórios Ativos 2024",value:x})]})}const ct=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));function Ee(s){return new Date(s.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}))}function Ye(s){return s.reduce((r,t)=>{const a=Ee(t.date).toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"});return r[a]||(r[a]=[]),r[a].push(t),r},{})}function He(s){const r=new Date;return Array.from({length:s},(t,a)=>{const x=new Date(r);x.setDate(x.getDate()-a);const d=x.toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"}),n=x.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}),c=x.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",timeZone:"America/Sao_Paulo"});return{isoDate:d,displayDate:n,fullDate:c}}).reverse()}function Ue({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=R(r.breakpoints.down("md")),x=S.useMemo(()=>({daysToShow:t?10:a?20:30,axisInterval:t?3:a?4:6,height:t?250:a?280:300,dateFormat:{day:"numeric",month:t?"numeric":a?"short":"long",timeZone:"America/Sao_Paulo"}}),[t,a]),d=S.useMemo(()=>{const c=He(x.daysToShow),g=Ye(s);return c.map(({isoDate:f,displayDate:b,fullDate:i})=>({date:b,fullDate:i,commits:(g[f]||[]).length}))},[s,x.daysToShow]),n=({active:c,payload:g})=>{if(c&&g?.[0]){const f=g[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:f.fullDate}),o(h,{variant:"body2",children:[f.commits," ",f.commits===1?"commit":"commits"]})]})}return null};return o(k,{sx:{p:{xs:1.5,sm:2,md:3},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(Re,{sx:{fontSize:{xs:"1.25rem",sm:"inherit",md:"1.5rem"}}}),"Commits por Dia (Últimos ",x.daysToShow," dias)"]})}),e(T,{width:"100%",height:x.height,children:o(I,{data:d,margin:{top:5,right:t?5:a?15:20,left:t?5:a?15:20,bottom:t?45:a?35:20},children:[e(P,{dataKey:"date",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:x.axisInterval,angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30,tickMargin:t?15:5}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:c=>Math.floor(c)}),e(A,{content:e(n,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const dt=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));function Ke({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=S.useMemo(()=>Array.from({length:t?12:24},(n,c)=>{const g=new Date;return g.setMonth(g.getMonth()-c),{year:g.getFullYear(),month:g.getMonth(),label:g.toLocaleString("pt-BR",{month:t?"short":"long",year:"numeric"}),fullLabel:g.toLocaleString("pt-BR",{month:"long",year:"numeric"})}}).reverse().map(({year:n,month:c,label:g,fullLabel:f})=>{const b=s.filter(i=>{const y=i.date;return y.getFullYear()===n&&y.getMonth()===c}).length;return{label:g,fullLabel:f,commits:b}}),[s,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullLabel}),o(h,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(k,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ke,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Mês ",t?"(12 meses)":"(24 meses)"]})}),e(T,{width:"100%",height:t?250:300,children:o(I,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?60:20},children:[e(P,{dataKey:"label",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:t?1:"preserveStartEnd",angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(A,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),Ne=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function Ge({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=S.useMemo(()=>{const d=w.groupBy(s,n=>n.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return Ne.map(n=>({day:t?n.slice(0,3):n,fullDay:n,commits:(d[n]||[]).length}))},[s,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullDay}),o(h,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(k,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(se,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana"]})}),e(T,{width:"100%",height:t?250:300,children:o(I,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(A,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const ht=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Ze=[{label:"00h - 08h",mobileLabel:"00-08h",start:0,end:8},{label:"08h - 13h",mobileLabel:"08-13h",start:8,end:13},{label:"13h - 17h",mobileLabel:"13-17h",start:13,end:17},{label:"17h - 00h",mobileLabel:"17-00h",start:17,end:24}];function qe({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=S.useMemo(()=>Ze.map(d=>{const n=s.filter(c=>{const g=new Date(c.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),f=parseInt(g);return f>=d.start&&f<d.end});return{range:t?d.mobileLabel:d.label,fullRange:d.label,commits:n.length}}),[s,t]),x=({active:d,payload:n})=>{if(d&&n?.[0]){const c=n[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:c.fullRange}),o(h,{variant:"body2",children:[c.commits," ",c.commits===1?"commit":"commits"]})]})}return null};return o(k,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ce,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário"]})}),e(T,{width:"100%",height:t?250:300,children:o(I,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:d=>Math.floor(d)}),e(A,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const pt=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),Q=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Xe({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),[a,x]=S.useState(!1);w.groupBy(s,f=>{const[b]=f.repo.split("/");return b});const n=(()=>{let f=Object.entries(w.groupBy(s,"repo")).map(([b,i])=>({name:b.split("/")[1],fullName:b,value:i.length,org:b.split("/")[0]})).sort((b,i)=>i.value-b.value);if(!a&&f.length>9){const b=f.slice(0,8),i=f.slice(8),y=w.sumBy(i,"value");return[...b,{name:`Outros (${i.length} repos)`,fullName:"outros",value:y,org:"outros"}]}return f})(),c=({active:f,payload:b})=>{if(f&&b?.[0]){const i=b[0].payload,y=w.sumBy(n,"value"),l=(i.value/y*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:i.fullName}),o(h,{variant:"body2",children:[i.value," commits (",l,"%)"]})]})}return null},g=({payload:f})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:f.map((b,i)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:b.color,borderRadius:"50%"}}),e(h,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:b.payload.fullName,children:b.value})]},`legend-${i}`))});return o(k,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(h,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(_e,{}),"Commits por Repositório"]}),e(E,{size:"small",onClick:()=>x(!a),startIcon:a?e(de,{}):e(me,{}),children:a?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:e(T,{children:o(be,{children:[e(xe,{data:n,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:n.map((f,b)=>e(ye,{fill:Q[b%Q.length]},`cell-${b}`))}),e(A,{content:e(c,{})}),e(ve,{content:e(g,{})})]})})})]})}const ut=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"})),J=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Ve({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),[a,x]=S.useState(!1),d=new Date,n=d.getMonth(),c=d.getFullYear(),g=s.filter(p=>{const m=p.date;return m.getMonth()===n&&m.getFullYear()===c}),f=new Date().toLocaleString("pt-BR",{month:"short"}),{pieChartData:b,totalRepos:i}=S.useMemo(()=>{let p=Object.entries(w.groupBy(g,"repo")).map(([m,v])=>({name:m.split("/")[1],fullName:m,value:v.length,org:m.split("/")[0]})).sort((m,v)=>v.value-m.value);if(!a&&p.length>8){const m=p.slice(0,8),v=p.slice(8),C=w.sumBy(v,"value");return{pieChartData:[...m,{name:`Outros (${v.length} repos)`,fullName:"outros",value:C,org:"outros"}],totalRepos:p.length}}return{pieChartData:p,totalRepos:p.length}},[g,a]),y=({active:p,payload:m})=>{if(p&&m?.[0]){const v=m[0].payload,C=w.sumBy(b,"value"),M=(v.value/C*100).toFixed(1);return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:v.fullName}),o(h,{variant:"body2",children:[v.value," commits (",M,"%)"]})]})}return null},l=({payload:p})=>e(u,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",maxHeight:"100px",overflowY:"auto",px:2},children:p.map((m,v)=>o(u,{sx:{display:"flex",alignItems:"center",gap:.5,minWidth:t?"45%":"30%"},children:[e(u,{sx:{width:12,height:12,backgroundColor:m.color,borderRadius:"50%"}}),e(h,{variant:"caption",sx:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:m.payload.fullName,children:m.value})]},`legend-${v}`))});return o(k,{sx:{p:2},children:[o(u,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o(h,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1},children:[e(Be,{}),"Commits por Repositório (",f,")"]}),i>8&&e(E,{size:"small",onClick:()=>x(!a),startIcon:a?e(de,{}):e(me,{}),children:a?"Mostrar Menos":"Mostrar Todos"})]}),e(u,{sx:{height:t?300:400},children:b.length>0?e(T,{children:o(be,{children:[e(xe,{data:b,cx:"50%",cy:"45%",innerRadius:t?40:60,outerRadius:t?70:90,paddingAngle:2,dataKey:"value",children:b.map((p,m)=>e(ye,{fill:J[m%J.length]},`cell-${m}`))}),e(A,{content:e(y,{})}),e(ve,{content:e(l,{})})]})}):e(u,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e(h,{color:"text.secondary",children:"Nenhum commit encontrado neste mês"})})})]})}const gt=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Qe=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"];function Je({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=S.useMemo(()=>{const n=new Date,c=n.getFullYear(),g=n.getMonth(),f=s.filter(i=>{const y=i.date;return y.getMonth()===g&&y.getFullYear()===c}),b=w.groupBy(f,i=>i.date.toLocaleString("pt-BR",{weekday:"long"}).toLowerCase());return Qe.map(i=>({day:t?i.slice(0,3):i,fullDay:i,commits:(b[i]||[]).length}))},[s,t]),x=({active:n,payload:c})=>{if(n&&c?.[0]){const g=c[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:g.fullDay}),o(h,{variant:"body2",children:[g.commits," ",g.commits===1?"commit":"commits"]})]})}return null},d=new Date().toLocaleString("pt-BR",{month:"long"});return o(k,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(se,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Dia da Semana (",d,")"]})}),e(T,{width:"100%",height:t?250:300,children:o(I,{data:a,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"day",tick:{fontSize:t?10:12,fill:r.palette.text.primary},interval:0}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(A,{content:e(x,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),et=[{label:"00h - 08h",start:0,end:8},{label:"08h - 13h",start:8,end:13},{label:"13h - 17h",start:13,end:17},{label:"17h - 00h",start:17,end:24}];function tt({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),a=new Date().toLocaleString("pt-BR",{month:"long",timeZone:"America/Sao_Paulo"}),x=S.useMemo(()=>{const n=s.filter(c=>{const g=new Date(c.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"}),f=new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo",year:"numeric",month:"numeric"});return g===f});return et.map(c=>{const g=n.filter(f=>{const b=new Date(f.date).toLocaleString("en-US",{timeZone:"America/Sao_Paulo",hour:"numeric",hour12:!1}),i=parseInt(b);return i>=c.start&&i<c.end});return{range:c.label,commits:g.length}})},[s]),d=({active:n,payload:c})=>{if(n&&c?.[0]){const g=c[0].payload;return o(u,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:r.shadows[2]},children:[e(h,{variant:"body2",sx:{fontWeight:"bold"},children:g.range}),o(h,{variant:"body2",children:[g.commits," ",g.commits===1?"commit":"commits"]})]})}return null};return o(k,{sx:{p:{xs:1.5,sm:2},height:"fit-content"},children:[e(u,{sx:{mb:2},children:o(h,{variant:t?"subtitle1":"h6",component:"div",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[e(ce,{sx:{fontSize:{xs:"1.25rem",sm:"inherit"}}}),"Commits por Horário (",a,")"]})}),e(T,{width:"100%",height:t?250:300,children:o(I,{data:x,margin:{top:5,right:t?5:20,left:t?5:20,bottom:t?20:5},children:[e(P,{dataKey:"range",tick:{fontSize:t?10:12,fill:r.palette.text.primary}}),e(F,{width:35,tick:{fontSize:t?10:12,fill:r.palette.text.primary},tickFormatter:n=>Math.floor(n)}),e(A,{content:e(d,{}),cursor:{fill:r.palette.action.hover}}),e(W,{dataKey:"commits",fill:r.palette.primary.main,radius:[2,2,0,0]})]})})]})}const bt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),N=({data:s,columns:r,columnWidths:t,renderRow:a,renderMobileRow:x,defaultRowsPerPage:d=10,mobileRowsPerPage:n=5})=>{const[c,g]=S.useState(0),f=_(),b=R(f.breakpoints.down("sm")),i=b?n:d,y=(p,m)=>{g(m)},l=s.slice(c*i,c*i+i);return o(ie,{children:[e(Oe,{children:o(Le,{sx:{tableLayout:"fixed"},children:[!b&&e(Ae,{children:e(z,{children:r.map((p,m)=>e(D,{style:{width:t[m]},children:p},m))})}),e(Te,{children:l.map((p,m)=>b?x(p,m,{backgroundColor:m%2===0?"background.paper":"action.hover"}):a(p,m))})]})}),e(ze,{component:"div",count:s.length,page:c,onPageChange:y,rowsPerPage:i,rowsPerPageOptions:[i],labelDisplayedRows:({from:p,to:m,count:v})=>`${p}-${m} de ${v}`})]})},ee=100;function te(s){const r=s.split(`
`)[0];return r.length<=ee?r:r.substring(0,ee)+"..."}function ot({data:s}){const r=w.orderBy(s,["date"],["desc"]),t=["Autor","Mensagem","Repositório","Data"],a=["150px","45%","25%","150px"];return o(k,{sx:{p:2},children:[o(h,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(je,{}),"Últimos Commits"]}),e(N,{data:r,columns:t,columnWidths:a,renderRow:(n,c)=>o(z,{children:[e(D,{style:{width:a[0]},children:n.author}),e(D,{style:{width:a[1]},children:e(B,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:te(n.message)})}),e(D,{style:{width:a[2]},children:e(B,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:n.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:a[3]},children:n.date.toLocaleString("pt-BR")})]},c),renderMobileRow:(n,c,g)=>e(z,{sx:{backgroundColor:g.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(h,{variant:"subtitle2",sx:{fontWeight:500},children:n.author}),e(h,{variant:"caption",color:"text.secondary",sx:{ml:2},children:n.date.toLocaleString("pt-BR")})]}),e(B,{href:n.htmlUrl,target:"_blank",rel:"noopener",title:n.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:te(n.message)}),e(B,{href:n.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:n.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})})]})},c)})]})}const xt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),oe=100;function re(s){const r=s.split(`
`)[0];return r.length<=oe?r:r.substring(0,oe)+"..."}function rt({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),[a,x]=S.useState(null),[d,n]=S.useState([]);S.useEffect(()=>{const l=w.groupBy(s,"author"),p=Object.entries(l).map(([v,C])=>{const M=w.maxBy(C,$=>new Date($.date));return{name:v,lastCommitDate:M.date,totalCommits:C.length}}),m=w.orderBy(p,["lastCommitDate"],["desc"]);n(m),!a&&m.length>0&&x(m[0].name)},[s]);const c=a?w.orderBy(s.filter(l=>l.author===a),["date"],["desc"]):[],g=["Mensagem","Repositório","Data"],f=["50%","30%","20%"],b=(l,p)=>o(z,{children:[e(D,{style:{width:f[0]},children:e(B,{href:l.htmlUrl,target:"_blank",rel:"noopener",title:l.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re(l.message)})}),e(D,{style:{width:f[1]},children:e(B,{href:l.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:l.repo,size:"small",variant:"outlined"})})}),e(D,{style:{width:f[2]},children:l.date.toLocaleString("pt-BR")})]},p),i=(l,p,m)=>e(z,{sx:{backgroundColor:m.backgroundColor},children:o(D,{sx:{p:2},children:[e(B,{href:l.htmlUrl,target:"_blank",rel:"noopener",title:l.message.split(`
`)[0],sx:{display:"block",mb:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re(l.message)}),o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(B,{href:l.repoUrl,target:"_blank",rel:"noopener",children:e(j,{label:l.repo,size:"small",variant:"outlined",sx:{maxWidth:"100%",overflow:"hidden"}})}),e(h,{variant:"caption",color:"text.secondary",children:l.date.toLocaleString("pt-BR")})]})]})},p),y=(l,p)=>{const{key:m,...v}=l,C=d.find(M=>M.name===p);return t?e(u,{component:"li",...v,children:o(fe,{spacing:.5,sx:{p:2},children:[e(h,{variant:"subtitle1",noWrap:!0,children:p}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(h,{variant:"body2",color:"text.secondary",children:[C.totalCommits," commits"]}),o(h,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},m):e(u,{component:"li",...v,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e(h,{children:p}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(j,{size:"small",label:`${C.totalCommits} commits`,variant:"outlined"}),o(h,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},m)};return o(k,{sx:{p:2},children:[o(h,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(Ie,{}),"Commits por Autor"]}),e(u,{sx:{mb:3},children:e(he,{value:a,onChange:(l,p)=>x(p),options:d.map(l=>l.name),renderInput:l=>e(pe,{...l,placeholder:"Buscar autor...",variant:"outlined",size:"small",InputProps:{...l.InputProps,startAdornment:e(ue,{position:"start",children:e(ge,{})})}}),renderOption:y,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),a&&e(N,{data:c,columns:g,columnWidths:f,renderRow:b,renderMobileRow:i})]})}const yt=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),ne=100;function ae(s){const r=s.split(`
`)[0];return r.length<=ne?r:r.substring(0,ne)+"..."}function nt({data:s}){const r=_(),t=R(r.breakpoints.down("sm")),[a,x]=S.useState(null),[d,n]=S.useState([]);S.useEffect(()=>{const l=w.groupBy(s,"repo"),p=Object.entries(l).map(([v,C])=>{const M=w.maxBy(C,$=>new Date($.date));return{name:v,lastCommitDate:M.date,totalCommits:C.length,repoUrl:M.repoUrl}}),m=w.orderBy(p,["lastCommitDate"],["desc"]);n(m),!a&&m.length>0&&x(m[0].name)},[s]);const c=a?w.orderBy(s.filter(l=>l.repo===a),["date"],["desc"]):[],g=["Autor","Mensagem","Data"],f=["20%","60%","20%"],b=(l,p)=>o(z,{children:[e(D,{style:{width:f[0]},children:l.author}),e(D,{style:{width:f[1]},children:e(B,{href:l.htmlUrl,target:"_blank",rel:"noopener",title:l.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ae(l.message)})}),e(D,{style:{width:f[2]},children:l.date.toLocaleString("pt-BR")})]},p),i=(l,p,m)=>e(z,{sx:{backgroundColor:m.backgroundColor},children:o(D,{sx:{p:2},children:[o(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e(h,{variant:"subtitle2",sx:{fontWeight:500},children:l.author}),e(h,{variant:"caption",color:"text.secondary",sx:{ml:2},children:l.date.toLocaleString("pt-BR")})]}),e(B,{href:l.htmlUrl,target:"_blank",rel:"noopener",title:l.message.split(`
`)[0],sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ae(l.message)})]})},p),y=(l,p)=>{const{key:m,...v}=l,C=d.find(M=>M.name===p);return t?e(u,{component:"li",...v,children:o(fe,{spacing:.5,sx:{p:2},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(K,{fontSize:"small"}),e(h,{variant:"subtitle1",noWrap:!0,children:p})]}),o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(h,{variant:"body2",color:"text.secondary",children:[C.totalCommits," commits"]}),o(h,{variant:"body2",color:"text.secondary",children:["• Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},m):e(u,{component:"li",...v,sx:{padding:2},children:o(u,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[o(u,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(K,{fontSize:"small"}),e(h,{children:p})]}),o(u,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e(j,{size:"small",label:`${C.totalCommits} commits`,variant:"outlined"}),o(h,{variant:"caption",color:"text.secondary",children:["Último: ",new Date(C.lastCommitDate).toLocaleDateString("pt-BR")]})]})]})},m)};return o(k,{sx:{p:2},children:[o(h,{variant:"h6",component:"div",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e(K,{}),"Commits por Repositório"]}),e(u,{sx:{mb:3},children:e(he,{value:a,onChange:(l,p)=>x(p),options:d.map(l=>l.name),renderInput:l=>e(pe,{...l,placeholder:"Buscar repositório...",variant:"outlined",size:"small",InputProps:{...l.InputProps,startAdornment:e(ue,{position:"start",children:e(ge,{})})}}),renderOption:y,ListboxProps:{sx:{"& li":{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}}}}})}),a&&e(N,{data:c,columns:g,columnWidths:f,renderRow:b,renderMobileRow:i})]})}const vt=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"}));export{yt as A,gt as C,st as D,pt as H,xt as L,mt as M,ut as R,ct as S,ht as W,dt as a,ft as b,bt as c,vt as d};
//# sourceMappingURL=app-dashboard-DtulnQ3T.js.map
